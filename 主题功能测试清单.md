# 主题功能测试清单

## 测试日期: 2025-12-02

## 测试环境
- 浏览器: Chrome/Edge/Firefox
- 文件: D:\work6\美业客户后台\settings.html
- 依赖: js/utils.js, js/db.js

---

## 功能测试项

### 1. 主题色切换功能

#### 1.1 紫色主题 (默认)
- [ ] 点击紫色主题色块
- [ ] 确认主题色块显示active状态(边框高亮)
- [ ] 确认"保存所有设置"按钮渐变色变为紫色系
- [ ] 确认标签页active状态底部指示条为紫色渐变
- [ ] 刷新页面,确认紫色主题保持

#### 1.2 粉色主题
- [ ] 点击粉色主题色块
- [ ] 确认主题色块显示active状态
- [ ] 确认按钮渐变色变为粉色系 (#f093fb → #f5576c)
- [ ] 确认标签页指示条变为粉色渐变
- [ ] 刷新页面,确认粉色主题保持

#### 1.3 蓝色主题
- [ ] 点击蓝色主题色块
- [ ] 确认主题色块显示active状态
- [ ] 确认按钮渐变色变为蓝色系 (#4facfe → #00f2fe)
- [ ] 确认标签页指示条变为蓝色渐变
- [ ] 刷新页面,确认蓝色主题保持

#### 1.4 绿色主题
- [ ] 点击绿色主题色块
- [ ] 确认主题色块显示active状态
- [ ] 确认按钮渐变色变为绿色系 (#43e97b → #38f9d7)
- [ ] 确认标签页指示条变为绿色渐变
- [ ] 刷新页面,确认绿色主题保持

#### 1.5 橙色主题
- [ ] 点击橙色主题色块
- [ ] 确认主题色块显示active状态
- [ ] 确认按钮渐变色变为橙色系 (#fa709a → #fee140)
- [ ] 确认标签页指示条变为橙色渐变
- [ ] 刷新页面,确认橙色主题保持

---

### 2. 显示模式切换功能

#### 2.1 浅色模式
- [ ] 点击"浅色模式"按钮
- [ ] 确认按钮显示active状态(边框和背景色高亮)
- [ ] 确认状态文字显示"当前使用"
- [ ] 确认页面背景为浅色 (#f9fafb)
- [ ] 确认文字为深色 (#111827)
- [ ] 确认卡片背景为白色
- [ ] 确认边框为浅灰色
- [ ] 刷新页面,确认浅色模式保持

#### 2.2 深色模式
- [ ] 点击"深色模式"按钮
- [ ] 确认按钮显示active状态
- [ ] 确认状态文字显示"当前使用"
- [ ] 确认页面背景为深色 (#1f2937)
- [ ] 确认导航栏背景为深灰色 (#111827)
- [ ] 确认侧边栏背景为深灰色
- [ ] 确认卡片背景为深灰色 (#1f2937)
- [ ] 确认文字为浅色 (#f9fafb)
- [ ] 确认边框为深色 (#4b5563)
- [ ] 确认输入框背景为深灰色 (#374151)
- [ ] 确认输入框文字为浅色
- [ ] 刷新页面,确认深色模式保持

---

### 3. 主题组合测试

#### 3.1 浅色模式 + 不同主题色
- [ ] 浅色模式 + 紫色主题
- [ ] 浅色模式 + 粉色主题
- [ ] 浅色模式 + 蓝色主题
- [ ] 浅色模式 + 绿色主题
- [ ] 浅色模式 + 橙色主题

#### 3.2 深色模式 + 不同主题色
- [ ] 深色模式 + 紫色主题
- [ ] 深色模式 + 粉色主题
- [ ] 深色模式 + 蓝色主题
- [ ] 深色模式 + 绿色主题
- [ ] 深色模式 + 橙色主题

---

### 4. 持久化测试

#### 4.1 localStorage存储
- [ ] 打开浏览器开发者工具 (F12)
- [ ] 切换到"Application" → "Local Storage"
- [ ] 选择主题色,确认看到 `beauty_crm_theme_color` 键
- [ ] 切换显示模式,确认看到 `beauty_crm_display_mode` 键
- [ ] 确认存储值正确

#### 4.2 页面刷新保持
- [ ] 设置为蓝色主题 + 深色模式
- [ ] 刷新页面 (F5)
- [ ] 确认主题保持为蓝色
- [ ] 确认模式保持为深色

#### 4.3 关闭浏览器后保持
- [ ] 设置为绿色主题 + 浅色模式
- [ ] 关闭浏览器
- [ ] 重新打开浏览器和页面
- [ ] 确认设置保持

---

### 5. 界面交互测试

#### 5.1 通知提示
- [ ] 切换主题色时显示"主题色已更新"通知
- [ ] 切换显示模式时显示"已切换到XX模式"通知
- [ ] 通知在3秒后自动消失

#### 5.2 视觉反馈
- [ ] 主题色块hover时有缩放效果
- [ ] 主题色块点击后有边框高亮
- [ ] 显示模式按钮hover时边框变色
- [ ] 显示模式按钮active时有背景色

#### 5.3 图标刷新
- [ ] 切换显示模式后,lucide图标正常显示
- [ ] 深色模式下图标颜色正确

---

### 6. 跨标签页测试

- [ ] 切换到"组织信息"标签,确认主题色生效
- [ ] 切换到"用户信息"标签,确认主题色生效
- [ ] 切换到"关于系统"标签,确认主题色生效
- [ ] 在深色模式下切换各个标签,确认都正常显示

---

### 7. 响应式测试

#### 7.1 桌面端 (1920x1080)
- [ ] 主题色选项正常显示
- [ ] 显示模式按钮正常显示
- [ ] 主题切换功能正常

#### 7.2 平板端 (768x1024)
- [ ] 主题色选项正常显示
- [ ] 显示模式按钮正常显示
- [ ] 主题切换功能正常

#### 7.3 移动端 (375x667)
- [ ] 主题色选项适配移动端尺寸 (44x44px)
- [ ] 显示模式按钮正常显示
- [ ] 主题切换功能正常
- [ ] 触摸操作响应正常

---

### 8. 兼容性测试

#### 8.1 Chrome浏览器
- [ ] 主题色切换正常
- [ ] 深色模式正常
- [ ] CSS变量正常工作

#### 8.2 Edge浏览器
- [ ] 主题色切换正常
- [ ] 深色模式正常
- [ ] CSS变量正常工作

#### 8.3 Firefox浏览器
- [ ] 主题色切换正常
- [ ] 深色模式正常
- [ ] CSS变量正常工作

#### 8.4 Safari浏览器 (如有条件)
- [ ] 主题色切换正常
- [ ] 深色模式正常
- [ ] CSS变量正常工作

---

### 9. 性能测试

- [ ] 主题切换响应时间 < 100ms
- [ ] 显示模式切换无明显闪烁
- [ ] 页面加载时主题立即应用(无闪烁)
- [ ] localStorage读写无延迟

---

### 10. 错误处理测试

#### 10.1 localStorage被禁用
- [ ] 在隐私模式下测试
- [ ] 确认功能降级但不报错
- [ ] 刷新后恢复默认设置

#### 10.2 无效的主题值
- [ ] 手动修改localStorage为无效值
- [ ] 刷新页面
- [ ] 确认回退到默认主题(紫色)

---

## 快速测试步骤

### 最小可行性测试 (3分钟)

1. **打开页面**
   - 访问 `settings.html`
   - 点击"系统配置"标签

2. **测试主题色**
   - 依次点击5个主题色
   - 观察"保存所有设置"按钮颜色变化

3. **测试显示模式**
   - 点击"深色模式"
   - 确认页面变暗
   - 点击"浅色模式"
   - 确认页面变亮

4. **测试持久化**
   - 设置为绿色主题 + 深色模式
   - 刷新页面 (F5)
   - 确认设置保持

---

## 已知问题记录

### 问题 1: [待发现]
- **现象**:
- **影响范围**:
- **临时方案**:
- **计划修复**:

---

## 测试结果

- 测试人员: _______________
- 测试日期: _______________
- 测试结果: □ 通过  □ 部分通过  □ 未通过
- 发现问题数: _______________
- 备注: _______________

---

## 下一步优化建议

1. [ ] 添加主题预览功能(hover时预览效果)
2. [ ] 添加主题导入/导出功能
3. [ ] 支持自定义主题色(颜色选择器)
4. [ ] 添加主题切换动画
5. [ ] 支持跟随系统主题自动切换
6. [ ] 添加更多深色模式样式优化
