# 美业客户洞察CRM系统 - 需求分析文档

## 📋 文档信息

| 项目名称 | 美业客户洞察CRM系统 |
|---------|-------------------|
| 文档版本 | v1.0 |
| 创建日期 | 2025-12-01 |
| 业务领域 | 美容美发连锁经营管理 |
| 架构模式 | 多机构SaaS平台 |

---

## 一、项目概述

### 1.1 项目背景

美业（美容美发）行业正处于快速发展和数字化转型阶段,传统的门店管理方式已无法满足现代连锁经营的需求。本系统旨在为美业连锁企业提供一套完整的客户关系管理（CRM）解决方案，支持总部-加盟商的多层级管理模式。

### 1.2 项目目标

- **提升客户管理效率**：实现客户信息集中管理、消费记录追踪、会员标签化管理
- **优化运营决策**：通过数据分析为经营决策提供支持
- **支持连锁扩张**：支持多机构、多加盟商的灵活管理模式
- **增强客户体验**：提供个性化服务方案、智能诊断建议
- **移动化办公**：支持移动端访问，随时随地处理业务

### 1.3 目标用户

| 用户角色 | 描述 | 主要需求 |
|---------|------|---------|
| **总部管理员** | 连锁品牌总部运营人员 | 全局数据监控、加盟商管理、方案模板管理 |
| **加盟商管理员** | 加盟门店负责人 | 门店数据查看、员工管理、客户管理 |
| **门店店长** | 单店运营负责人 | 客户管理、订单管理、任务分配 |
| **美容师/顾问** | 一线服务人员 | 客户服务记录、任务执行、方案推荐 |
| **财务人员** | 财务结算人员 | 订单对账、收入统计、佣金计算 |

---

## 二、业务需求分析

### 2.1 核心业务流程

#### 2.1.1 客户生命周期管理

```
客户获取 → 首次到店 → 诊断分析 → 方案制定 → 服务执行 → 效果跟踪 → 复购转化 → 会员维护
```

**关键环节**：
1. **客户获取**：线上线下渠道导流，信息录入系统
2. **首次到店**：基础信息采集、皮肤/毛发诊断
3. **诊断分析**：专业诊断数据录入（肤质、发质、问题点）
4. **方案制定**：根据诊断结果推荐护理方案（可使用模板）
5. **服务执行**：按方案执行服务，记录过程照片
6. **效果跟踪**：定期回访、效果对比、满意度调查
7. **复购转化**：优惠活动推送、新项目推荐
8. **会员维护**：生日关怀、积分管理、会员权益

#### 2.1.2 加盟商管理流程

```
加盟申请 → 资质审核 → 合同签订 → 门店开业 → 运营支持 → 业绩考核 → 续约/退出
```

**关键环节**：
1. **加盟申请**：基本信息、资质文件、经营计划提交
2. **资质审核**：总部审核加盟资质、信用背景
3. **合同签订**：确定加盟费、保证金、分成比例
4. **门店开业**：门店信息录入、员工账号开通、初始授权
5. **运营支持**：方案模板共享、培训资料、技术支持
6. **业绩考核**：月度/季度业绩统计、排名公示
7. **续约/退出**：合同到期处理、数据归档

#### 2.1.3 订单处理流程

```
客户到店 → 项目选择 → 价格确认 → 订单创建 → 服务执行 → 完成验收 → 支付结算 → 售后跟踪
```

---

### 2.2 功能需求

#### 2.2.1 客户管理模块

**基础功能**：
- [x] 客户信息管理（姓名、性别、年龄、手机、地址、来源渠道）
- [x] 客户标签体系（会员等级、消费偏好、皮肤类型、敏感源）
- [x] 客户分组管理（VIP客户、新客户、流失客户、高价值客户）
- [x] 客户搜索与筛选（多维度组合查询）

**高级功能**：
- [x] 客户画像（消费能力、偏好分析、风险评估）
- [x] 诊断数据管理（皮肤检测、发质分析、问题记录）
- [x] 服务历史记录（项目、时间、效果、照片对比）
- [x] 智能推荐（基于历史数据推荐适合方案）
- [x] 客户沟通记录（电话、微信、到店记录）

#### 2.2.2 订单管理模块

**核心功能**：
- [x] 订单创建（客户选择、项目选择、价格计算）
- [x] 订单状态管理（待确认、进行中、已完成、已取消、售后中）
- [x] 订单详情查看（服务项目、金额、支付状态、服务人员）
- [x] 订单修改与取消
- [x] 订单统计分析（按时间、门店、项目、员工统计）

**扩展功能**：
- [ ] 套餐订单（多次服务卡、年卡、季卡）
- [ ] 订单分期支付
- [ ] 优惠券/折扣管理
- [ ] 订单评价与反馈

#### 2.2.3 任务管理模块

**功能列表**：
- [x] 任务创建与分配（指定执行人、截止时间、优先级）
- [x] 任务状态跟踪（待处理、进行中、已完成、已逾期）
- [x] 任务提醒（到期提醒、逾期预警）
- [x] 任务统计（完成率、逾期率、员工绩效）
- [x] 任务类型（客户回访、效果跟踪、生日关怀、投诉处理）

#### 2.2.4 方案模板管理

**功能描述**：
- [x] 模板创建（护理方案、疗程设计、产品搭配）
- [x] 模板分类（补水、美白、抗衰、修复、染烫护理等）
- [x] 模板共享（总部可创建全局模板，门店可自建本地模板）
- [x] 模板使用记录（统计使用频次、效果反馈）
- [x] 模板版本管理

#### 2.2.5 加盟商管理模块

**核心功能**：
- [x] 加盟商信息管理（公司名、负责人、联系方式、地址）
- [x] 加盟商等级（旗舰店、标准店、社区店）
- [x] 合同管理（合同编号、签约日期、到期日期、分成比例）
- [x] 授权管理（功能权限、数据权限、有效期）
- [x] 业绩统计（营收、订单量、客户数、增长率）

**扩展功能**：
- [ ] 加盟费用管理（加盟费、保证金、管理费）
- [ ] 培训记录管理
- [ ] 物料配送管理
- [ ] 加盟商评级体系

#### 2.2.6 数据看板模块

**统计指标**：
- [x] 核心指标卡片（今日营收、订单量、新增客户、待处理任务）
- [x] 趋势图表（营收趋势、客户增长曲线）
- [x] 业绩对比（周对比、月对比、门店对比）
- [x] 订单分析（状态分布、项目占比）
- [x] 任务完成率

**数据权限**：
- 总部管理员：查看所有数据
- 加盟商管理员：查看本机构所有门店数据
- 门店人员：仅查看本门店数据

#### 2.2.7 系统设置模块

**功能清单**：
- [x] 组织架构管理（总部-加盟商-门店层级）
- [x] 用户账号管理（员工账号、角色权限）
- [x] 品牌设置（Logo、品牌名、主题色）
- [x] 通知设置（邮件、短信、系统通知）
- [x] 数据备份与恢复

---

### 2.3 多机构架构需求

#### 2.3.1 组织层级模型

```
总部（Platform Admin）
  ├── 加盟商A（Franchisee A）
  │     ├── 门店A-1（Store A-1）
  │     ├── 门店A-2（Store A-2）
  │     └── 门店A-3（Store A-3）
  ├── 加盟商B（Franchisee B）
  │     ├── 门店B-1（Store B-1）
  │     └── 门店B-2（Store B-2）
  └── 直营门店（Direct Store）
        ├── 门店C-1（Store C-1）
        └── 门店C-2（Store C-2）
```

#### 2.3.2 数据隔离策略

| 层级 | 数据可见范围 | 数据操作权限 |
|-----|------------|-------------|
| **总部** | 所有数据 | 全部权限（查看、编辑、删除、导出） |
| **加盟商** | 本机构所有门店数据 | 本机构数据的增删改查 |
| **门店** | 本门店数据 | 本门店数据的增删改查 |
| **员工** | 分配给自己的客户/任务 | 受限操作（由角色权限控制） |

#### 2.3.3 资源共享机制

**共享资源**：
- ✅ 方案模板（总部创建 → 所有机构可用）
- ✅ 培训资料（总部发布 → 全员可查看）
- ✅ 品牌素材（Logo、VI规范等）
- ✅ 营销活动模板

**独立资源**：
- ❌ 客户数据（各门店独立，不跨门店共享）
- ❌ 订单数据（归属于服务门店）
- ❌ 员工账号（归属于所属机构）
- ❌ 财务数据（各机构独立核算）

---

## 三、非功能性需求

### 3.1 性能需求

| 指标 | 要求 | 说明 |
|-----|------|------|
| **响应时间** | < 2秒 | 页面加载、查询请求 |
| **并发用户** | 500+ | 支持500个用户同时在线 |
| **数据库查询** | < 500ms | 复杂查询响应时间 |
| **移动端加载** | < 3秒 | 移动端首屏加载时间 |

### 3.2 安全需求

| 类别 | 要求 |
|-----|------|
| **身份认证** | 用户名+密码，支持记住登录状态 |
| **权限控制** | 基于角色的访问控制（RBAC） |
| **数据加密** | 敏感数据（手机号、身份证）加密存储 |
| **操作日志** | 关键操作记录审计日志 |
| **SQL注入防护** | 使用参数化查询 |
| **XSS防护** | 输入验证、输出转义 |

### 3.3 可用性需求

- **浏览器兼容**：Chrome 90+, Safari 14+, Edge 90+
- **移动设备**：iOS 14+, Android 10+
- **响应式设计**：支持桌面端（1920×1080）、平板（768×1024）、手机（375×667）
- **无障碍访问**：符合WCAG 2.1标准

### 3.4 可维护性需求

- **代码规范**：遵循ESLint、Prettier规范
- **文档完善**：API文档、数据库设计文档、部署文档
- **日志记录**：应用日志、错误日志、访问日志
- **版本控制**：使用Git进行版本管理

### 3.5 可扩展性需求

- **水平扩展**：支持数据库读写分离、应用服务器集群
- **模块化设计**：功能模块解耦，便于后续扩展
- **插件化支持**：预留第三方集成接口（如微信、支付宝）

---

## 四、数据需求

### 4.1 核心数据实体

| 实体名称 | 描述 | 关键字段 |
|---------|------|---------|
| **组织机构** | 总部、加盟商、门店 | 机构ID、机构名称、层级类型、上级机构 |
| **用户** | 系统使用者 | 用户ID、用户名、角色、所属机构 |
| **客户** | 服务对象 | 客户ID、姓名、手机、所属门店 |
| **订单** | 服务订单 | 订单ID、客户ID、服务项目、金额 |
| **任务** | 待办事项 | 任务ID、客户ID、执行人、截止时间 |
| **方案模板** | 服务方案 | 模板ID、名称、分类、创建者 |
| **客户诊断** | 诊断数据 | 诊断ID、客户ID、诊断时间、数据项 |
| **客户案例** | 成功案例 | 案例ID、客户ID、前后照片、效果说明 |

### 4.2 数据量估算（3年规划）

| 数据类型 | 年增长量 | 3年总量 |
|---------|---------|--------|
| 加盟商 | 50家/年 | 150家 |
| 门店 | 200家/年 | 600家 |
| 员工账号 | 1000个/年 | 3000个 |
| 客户 | 50000个/年 | 150000个 |
| 订单 | 500000笔/年 | 1500000笔 |
| 任务 | 200000条/年 | 600000条 |

### 4.3 数据备份策略

- **全量备份**：每周日凌晨3点
- **增量备份**：每天凌晨2点
- **备份保留**：30天内全部保留，30天后保留月末备份
- **异地备份**：每月1日同步到异地灾备服务器

---

## 五、接口需求

### 5.1 外部接口

| 接口类型 | 用途 | 优先级 |
|---------|------|--------|
| **短信接口** | 发送验证码、通知提醒 | P0 |
| **微信接口** | 微信登录、消息推送 | P1 |
| **支付接口** | 支付宝、微信支付 | P2 |
| **地图接口** | 门店定位、导航 | P2 |
| **AI接口** | 智能诊断、方案推荐 | P3 |

### 5.2 API设计原则

- **RESTful风格**：使用标准HTTP方法（GET/POST/PUT/DELETE）
- **统一响应格式**：`{code, message, data}`
- **版本控制**：API路径包含版本号（如 `/api/v1/customers`）
- **鉴权机制**：JWT Token认证

---

## 六、约束条件

### 6.1 技术约束

- **后端技术栈**：待定（建议：Node.js/Python/Java）
- **数据库**：MySQL 8.0（阿里云RDS）
- **前端技术**：HTML5 + CSS3 + JavaScript（已完成移动端优化）
- **部署环境**：阿里云ECS + RDS + OSS

### 6.2 项目约束

- **开发周期**：3个月（MVP版本）
- **预算限制**：待确定
- **团队规模**：待确定
- **上线时间**：待确定

### 6.3 合规性约束

- **数据隐私**：符合《个人信息保护法》要求
- **行业规范**：符合美容行业服务标准
- **财务规范**：订单数据支持税务审计

---

## 七、验收标准

### 7.1 功能验收

- [ ] 所有核心功能模块可正常使用
- [ ] 多机构数据隔离有效
- [ ] 权限控制符合设计要求
- [ ] 移动端适配完善

### 7.2 性能验收

- [ ] 页面加载时间 < 2秒
- [ ] 支持500并发用户
- [ ] 数据库查询 < 500ms

### 7.3 安全验收

- [ ] 通过安全渗透测试
- [ ] 无SQL注入、XSS漏洞
- [ ] 敏感数据加密存储

### 7.4 用户验收

- [ ] 用户操作流畅度 ≥ 4.0/5.0
- [ ] 功能完整度 ≥ 90%
- [ ] BUG数量 < 10个（P0/P1级别）

---

## 八、风险分析

| 风险类型 | 描述 | 影响 | 应对措施 |
|---------|------|------|---------|
| **技术风险** | 技术选型不当 | 高 | 充分调研，选择成熟技术栈 |
| **性能风险** | 高并发性能瓶颈 | 中 | 提前进行压力测试 |
| **数据风险** | 数据泄露 | 高 | 加强安全防护、定期备份 |
| **需求风险** | 需求变更频繁 | 中 | 采用敏捷开发，分阶段交付 |
| **人员风险** | 核心人员流失 | 中 | 完善文档、知识共享 |

---

## 九、后续规划

### 9.1 MVP版本（V1.0）

**时间**：3个月
**功能**：
- ✅ 客户管理
- ✅ 订单管理
- ✅ 任务管理
- ✅ 加盟商管理
- ✅ 数据看板
- ✅ 系统设置

### 9.2 增强版本（V2.0）

**时间**：MVP后3个月
**功能**：
- 🔄 会员卡/套餐系统
- 🔄 营销活动管理
- 🔄 财务结算模块
- 🔄 移动端App（原生）
- 🔄 BI数据分析

### 9.3 完整版本（V3.0）

**时间**：V2.0后6个月
**功能**：
- 🔄 AI智能诊断
- 🔄 供应链管理
- 🔄 微信小程序
- 🔄 开放平台API
- 🔄 物联网设备对接

---

## 十、附录

### 10.1 术语表

| 术语 | 英文 | 说明 |
|-----|------|------|
| CRM | Customer Relationship Management | 客户关系管理 |
| SaaS | Software as a Service | 软件即服务 |
| RBAC | Role-Based Access Control | 基于角色的访问控制 |
| MVP | Minimum Viable Product | 最小可行性产品 |
| BI | Business Intelligence | 商业智能 |

### 10.2 参考文档

- [WCAG 2.1无障碍访问指南](https://www.w3.org/WAI/WCAG21/quickref/)
- [RESTful API设计规范](https://restfulapi.net/)
- [MySQL 8.0官方文档](https://dev.mysql.com/doc/refman/8.0/en/)
- [个人信息保护法](http://www.npc.gov.cn/)

---

**文档结束**

*本文档将根据项目进展持续更新*
