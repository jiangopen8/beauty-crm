# ç¾ä¸šå®¢æˆ·æ´å¯ŸCRMç³»ç»Ÿ - ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›®åç§° | ç¾ä¸šå®¢æˆ·æ´å¯ŸCRMç³»ç»Ÿ |
|---------|-------------------|
| æ–‡æ¡£ç‰ˆæœ¬ | v2.0 |
| åˆ›å»ºæ—¥æœŸ | 2025-12-01 |
| æœ€åæ›´æ–° | 2025-12-04 |
| æ•°æ®åº“ | MySQL 8.0ï¼ˆé˜¿é‡Œäº‘RDSï¼‰ |
| æ¶æ„æ¨¡å¼ | å¤šç§Ÿæˆ·SaaSæ¶æ„ |
| æ›´æ–°è¯´æ˜ | æ–°å¢å®¢æˆ·æ¨¡æ¿å’Œä»»åŠ¡æ¨¡æ¿è¡¨ |

---

## ä¸€ã€ç³»ç»Ÿæ¶æ„è®¾è®¡

### 1.1 æ€»ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å®¢æˆ·ç«¯å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  PC Webç«¯   â”‚  â”‚  ç§»åŠ¨Webç«¯  â”‚  â”‚  æœªæ¥Appç«¯  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        åº”ç”¨å±‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Nginx / è´Ÿè½½å‡è¡¡                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ WebæœåŠ¡å™¨ â”‚  â”‚ WebæœåŠ¡å™¨ â”‚  â”‚ WebæœåŠ¡å™¨ â”‚  (é›†ç¾¤)        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ä¸šåŠ¡é€»è¾‘å±‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ å®¢æˆ·ç®¡ç†æ¨¡å— â”‚  â”‚ è®¢å•ç®¡ç†æ¨¡å— â”‚  â”‚ ä»»åŠ¡ç®¡ç†æ¨¡å— â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ åŠ ç›Ÿå•†ç®¡ç†  â”‚  â”‚ æ–¹æ¡ˆæ¨¡æ¿ç®¡ç† â”‚  â”‚ æƒé™æ§åˆ¶æ¨¡å— â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®è®¿é—®å±‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              ORM / æ•°æ®åº“è¿æ¥æ±                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®å±‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ MySQLä¸»åº“    â”‚  â”‚ MySQLä»åº“1   â”‚  â”‚ MySQLä»åº“2   â”‚     â”‚
â”‚  â”‚ (å†™å…¥/è¯»å–)  â”‚  â”‚  (åªè¯»)      â”‚  â”‚  (åªè¯»)      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Redisç¼“å­˜    â”‚  â”‚ é˜¿é‡Œäº‘OSS    â”‚                        â”‚
â”‚  â”‚  (ä¼šè¯/ç¼“å­˜) â”‚  â”‚  (æ–‡ä»¶å­˜å‚¨)  â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æŠ€æœ¯é€‰å‹å»ºè®®

#### åç«¯æŠ€æœ¯æ ˆï¼ˆå¯é€‰æ–¹æ¡ˆï¼‰

**æ–¹æ¡ˆä¸€ï¼šNode.js + Express**
```javascript
ä¼˜ç‚¹ï¼š
- JavaScriptå…¨æ ˆï¼Œå‰åç«¯è¯­è¨€ç»Ÿä¸€
- å¼‚æ­¥I/Oï¼Œé€‚åˆé«˜å¹¶å‘
- ç”Ÿæ€ä¸°å¯Œï¼Œå¼€å‘æ•ˆç‡é«˜
- å­¦ä¹ æ›²çº¿å¹³ç¼“

ç¼ºç‚¹ï¼š
- å•çº¿ç¨‹ï¼ŒCPUå¯†é›†ä»»åŠ¡æ€§èƒ½ä¸€èˆ¬
- éœ€è¦æ³¨æ„å›è°ƒåœ°ç‹±é—®é¢˜
```

**æ–¹æ¡ˆäºŒï¼šPython + Django/Flask**
```python
ä¼˜ç‚¹ï¼š
- å¼€å‘æ•ˆç‡æé«˜
- æ•°æ®å¤„ç†ã€AIé›†æˆæ–¹ä¾¿
- ORMå¼ºå¤§ï¼ˆDjangoï¼‰
- é€‚åˆå¿«é€ŸMVPå¼€å‘

ç¼ºç‚¹ï¼š
- å¹¶å‘æ€§èƒ½ä¸å¦‚Node.js
- éƒ¨ç½²ç›¸å¯¹å¤æ‚
```

**æ–¹æ¡ˆä¸‰ï¼šJava + Spring Boot**
```java
ä¼˜ç‚¹ï¼š
- ä¼ä¸šçº§æˆç†Ÿæ–¹æ¡ˆ
- æ€§èƒ½ä¼˜ç§€
- ç”Ÿæ€å®Œå–„
- é€‚åˆå¤§å‹é¡¹ç›®

ç¼ºç‚¹ï¼š
- å¼€å‘æ•ˆç‡ç›¸å¯¹è¾ƒä½
- å­¦ä¹ æ›²çº¿é™¡å³­
- éƒ¨ç½²åŒ…ä½“ç§¯å¤§
```

**æ¨èæ–¹æ¡ˆ**ï¼šNode.js + Expressï¼ˆè€ƒè™‘åˆ°å‰ç«¯å·²ä½¿ç”¨JavaScriptï¼‰

#### å‰ç«¯æŠ€æœ¯æ ˆï¼ˆå·²ç¡®å®šï¼‰

- **åŸºç¡€**ï¼šHTML5 + CSS3 + JavaScript ES6+
- **æ ·å¼æ¡†æ¶**ï¼šTailwind CSSï¼ˆCDNï¼‰
- **å›¾æ ‡åº“**ï¼šLucide Iconsï¼ˆCDNï¼‰
- **å›¾è¡¨åº“**ï¼šCanvasåŸç”Ÿç»˜åˆ¶
- **ç§»åŠ¨ç«¯ä¼˜åŒ–**ï¼šå·²å®Œæˆï¼ˆ95åˆ†æ°´å¹³ï¼‰

#### æ•°æ®åº“è®¾è®¡

- **å…³ç³»å‹æ•°æ®åº“**ï¼šMySQL 8.0ï¼ˆé˜¿é‡Œäº‘RDSï¼‰
- **ç¼“å­˜æ•°æ®åº“**ï¼šRedis 6.0+ï¼ˆä¼šè¯ã€çƒ­ç‚¹æ•°æ®ï¼‰
- **æ–‡ä»¶å­˜å‚¨**ï¼šé˜¿é‡Œäº‘OSSï¼ˆå®¢æˆ·ç…§ç‰‡ã€æ¡ˆä¾‹å›¾ç‰‡ï¼‰

---

## äºŒã€æ•°æ®åº“è®¾è®¡

### 2.1 è®¾è®¡åŸåˆ™

1. **å¤šç§Ÿæˆ·éš”ç¦»**ï¼šé€šè¿‡ `org_id`ï¼ˆæœºæ„IDï¼‰å­—æ®µå®ç°æ•°æ®éš”ç¦»
2. **è½¯åˆ é™¤**ï¼šä½¿ç”¨ `is_deleted` å­—æ®µï¼Œä¸ç‰©ç†åˆ é™¤æ•°æ®
3. **å®¡è®¡è¿½è¸ª**ï¼šæ‰€æœ‰è¡¨åŒ…å« `created_at`, `updated_at`, `created_by`, `updated_by`
4. **å­—ç¬¦é›†**ï¼šutf8mb4ï¼ˆæ”¯æŒemojiå’Œç‰¹æ®Šå­—ç¬¦ï¼‰
5. **å¼•æ“**ï¼šInnoDBï¼ˆæ”¯æŒäº‹åŠ¡ã€å¤–é”®ï¼‰
6. **ç´¢å¼•ç­–ç•¥**ï¼š
   - ä¸»é”®ï¼šè‡ªå¢ID
   - ä¸šåŠ¡å”¯ä¸€é”®ï¼šå”¯ä¸€ç´¢å¼•
   - é«˜é¢‘æŸ¥è¯¢å­—æ®µï¼šæ™®é€šç´¢å¼•
   - å¤åˆæŸ¥è¯¢ï¼šè”åˆç´¢å¼•

### 2.2 æ ¸å¿ƒè¡¨ç»“æ„è®¾è®¡

#### 2.2.1 ç»„ç»‡æœºæ„ç›¸å…³è¡¨

##### 1. organizations - æœºæ„è¡¨

```sql
CREATE TABLE organizations (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'æœºæ„ID',
    org_code VARCHAR(50) NOT NULL UNIQUE COMMENT 'æœºæ„ç¼–ç ',
    org_name VARCHAR(100) NOT NULL COMMENT 'æœºæ„åç§°',
    org_type ENUM('platform', 'franchisee', 'store') NOT NULL COMMENT 'æœºæ„ç±»å‹ï¼šplatform-æ€»éƒ¨, franchisee-åŠ ç›Ÿå•†, store-é—¨åº—',
    parent_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'ä¸Šçº§æœºæ„ID',
    level TINYINT UNSIGNED NOT NULL DEFAULT 1 COMMENT 'å±‚çº§ï¼š1-æ€»éƒ¨, 2-åŠ ç›Ÿå•†, 3-é—¨åº—',

    -- åŠ ç›Ÿå•†ç‰¹æœ‰å­—æ®µ
    franchisee_level ENUM('flagship', 'standard', 'community') DEFAULT NULL COMMENT 'åŠ ç›Ÿå•†ç­‰çº§ï¼šflagship-æ——èˆ°åº—, standard-æ ‡å‡†åº—, community-ç¤¾åŒºåº—',
    contract_no VARCHAR(50) DEFAULT NULL COMMENT 'åˆåŒç¼–å·',
    contract_start_date DATE DEFAULT NULL COMMENT 'åˆåŒå¼€å§‹æ—¥æœŸ',
    contract_end_date DATE DEFAULT NULL COMMENT 'åˆåŒç»“æŸæ—¥æœŸ',
    revenue_share_rate DECIMAL(5,2) DEFAULT 0.00 COMMENT 'åˆ†æˆæ¯”ä¾‹(%)',

    -- è”ç³»ä¿¡æ¯
    contact_person VARCHAR(50) DEFAULT NULL COMMENT 'è”ç³»äºº',
    contact_phone VARCHAR(20) DEFAULT NULL COMMENT 'è”ç³»ç”µè¯',
    contact_email VARCHAR(100) DEFAULT NULL COMMENT 'è”ç³»é‚®ç®±',

    -- åœ°å€ä¿¡æ¯
    province VARCHAR(50) DEFAULT NULL COMMENT 'çœ',
    city VARCHAR(50) DEFAULT NULL COMMENT 'å¸‚',
    district VARCHAR(50) DEFAULT NULL COMMENT 'åŒº',
    address VARCHAR(200) DEFAULT NULL COMMENT 'è¯¦ç»†åœ°å€',
    longitude DECIMAL(10, 6) DEFAULT NULL COMMENT 'ç»åº¦',
    latitude DECIMAL(10, 6) DEFAULT NULL COMMENT 'çº¬åº¦',

    -- çŠ¶æ€
    status ENUM('active', 'inactive', 'suspended') NOT NULL DEFAULT 'active' COMMENT 'çŠ¶æ€ï¼šactive-æ­£å¸¸, inactive-åœç”¨, suspended-æš‚åœ',

    -- å…¶ä»–
    logo_url VARCHAR(255) DEFAULT NULL COMMENT 'Logo URL',
    description TEXT DEFAULT NULL COMMENT 'æœºæ„æè¿°',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    created_by BIGINT UNSIGNED DEFAULT NULL COMMENT 'åˆ›å»ºäººID',
    updated_by BIGINT UNSIGNED DEFAULT NULL COMMENT 'æ›´æ–°äººID',
    is_deleted TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'æ˜¯å¦åˆ é™¤ï¼š0-å¦, 1-æ˜¯',

    INDEX idx_parent_id (parent_id),
    INDEX idx_org_type (org_type),
    INDEX idx_status (status),
    INDEX idx_created_at (created_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æœºæ„è¡¨';
```

#### 2.2.2 ç”¨æˆ·æƒé™ç›¸å…³è¡¨

##### 2. users - ç”¨æˆ·è¡¨

```sql
CREATE TABLE users (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'ç”¨æˆ·ID',
    username VARCHAR(50) NOT NULL UNIQUE COMMENT 'ç”¨æˆ·å',
    password_hash VARCHAR(255) NOT NULL COMMENT 'å¯†ç å“ˆå¸Œ',
    real_name VARCHAR(50) NOT NULL COMMENT 'çœŸå®å§“å',

    -- æ‰€å±æœºæ„
    org_id BIGINT UNSIGNED NOT NULL COMMENT 'æ‰€å±æœºæ„ID',

    -- è”ç³»æ–¹å¼
    phone VARCHAR(20) DEFAULT NULL COMMENT 'æ‰‹æœºå·',
    email VARCHAR(100) DEFAULT NULL COMMENT 'é‚®ç®±',

    -- ä¸ªäººä¿¡æ¯
    gender ENUM('male', 'female', 'other') DEFAULT NULL COMMENT 'æ€§åˆ«',
    avatar_url VARCHAR(255) DEFAULT NULL COMMENT 'å¤´åƒURL',
    position VARCHAR(50) DEFAULT NULL COMMENT 'èŒä½',

    -- çŠ¶æ€
    status ENUM('active', 'inactive', 'locked') NOT NULL DEFAULT 'active' COMMENT 'çŠ¶æ€ï¼šactive-æ­£å¸¸, inactive-åœç”¨, locked-é”å®š',

    -- ç™»å½•ä¿¡æ¯
    last_login_at TIMESTAMP NULL DEFAULT NULL COMMENT 'æœ€åç™»å½•æ—¶é—´',
    last_login_ip VARCHAR(50) DEFAULT NULL COMMENT 'æœ€åç™»å½•IP',
    login_count INT UNSIGNED NOT NULL DEFAULT 0 COMMENT 'ç™»å½•æ¬¡æ•°',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    created_by BIGINT UNSIGNED DEFAULT NULL COMMENT 'åˆ›å»ºäººID',
    updated_by BIGINT UNSIGNED DEFAULT NULL COMMENT 'æ›´æ–°äººID',
    is_deleted TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'æ˜¯å¦åˆ é™¤',

    INDEX idx_org_id (org_id),
    INDEX idx_phone (phone),
    INDEX idx_status (status),
    INDEX idx_created_at (created_at),

    FOREIGN KEY (org_id) REFERENCES organizations(id) ON DELETE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç”¨æˆ·è¡¨';
```

##### 3. roles - è§’è‰²è¡¨

```sql
CREATE TABLE roles (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'è§’è‰²ID',
    role_code VARCHAR(50) NOT NULL UNIQUE COMMENT 'è§’è‰²ç¼–ç ',
    role_name VARCHAR(50) NOT NULL COMMENT 'è§’è‰²åç§°',
    description VARCHAR(200) DEFAULT NULL COMMENT 'è§’è‰²æè¿°',

    -- è§’è‰²çº§åˆ«ï¼ˆæ§åˆ¶æ•°æ®æƒé™èŒƒå›´ï¼‰
    data_scope ENUM('all', 'org', 'store', 'self') NOT NULL DEFAULT 'self' COMMENT 'æ•°æ®æƒé™èŒƒå›´ï¼šall-å…¨éƒ¨, org-æœ¬æœºæ„, store-æœ¬é—¨åº—, self-ä»…è‡ªå·±',

    -- çŠ¶æ€
    status ENUM('active', 'inactive') NOT NULL DEFAULT 'active' COMMENT 'çŠ¶æ€',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT UNSIGNED DEFAULT NULL,
    is_deleted TINYINT(1) NOT NULL DEFAULT 0,

    INDEX idx_status (status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='è§’è‰²è¡¨';
```

##### 4. user_roles - ç”¨æˆ·è§’è‰²å…³è”è¡¨

```sql
CREATE TABLE user_roles (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL COMMENT 'ç”¨æˆ·ID',
    role_id BIGINT UNSIGNED NOT NULL COMMENT 'è§’è‰²ID',

    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    created_by BIGINT UNSIGNED DEFAULT NULL,

    UNIQUE KEY uk_user_role (user_id, role_id),
    INDEX idx_role_id (role_id),

    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (role_id) REFERENCES roles(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç”¨æˆ·è§’è‰²å…³è”è¡¨';
```

##### 5. permissions - æƒé™è¡¨

```sql
CREATE TABLE permissions (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'æƒé™ID',
    permission_code VARCHAR(100) NOT NULL UNIQUE COMMENT 'æƒé™ç¼–ç ',
    permission_name VARCHAR(100) NOT NULL COMMENT 'æƒé™åç§°',
    resource_type ENUM('menu', 'button', 'api') NOT NULL COMMENT 'èµ„æºç±»å‹',
    parent_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'çˆ¶æƒé™ID',

    -- èœå•ç›¸å…³
    route_path VARCHAR(200) DEFAULT NULL COMMENT 'è·¯ç”±è·¯å¾„',
    icon VARCHAR(50) DEFAULT NULL COMMENT 'å›¾æ ‡',
    sort_order INT UNSIGNED NOT NULL DEFAULT 0 COMMENT 'æ’åº',

    -- çŠ¶æ€
    status ENUM('active', 'inactive') NOT NULL DEFAULT 'active',

    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_deleted TINYINT(1) NOT NULL DEFAULT 0,

    INDEX idx_parent_id (parent_id),
    INDEX idx_resource_type (resource_type)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æƒé™è¡¨';
```

##### 6. role_permissions - è§’è‰²æƒé™å…³è”è¡¨

```sql
CREATE TABLE role_permissions (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    role_id BIGINT UNSIGNED NOT NULL COMMENT 'è§’è‰²ID',
    permission_id BIGINT UNSIGNED NOT NULL COMMENT 'æƒé™ID',

    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    created_by BIGINT UNSIGNED DEFAULT NULL,

    UNIQUE KEY uk_role_permission (role_id, permission_id),
    INDEX idx_permission_id (permission_id),

    FOREIGN KEY (role_id) REFERENCES roles(id) ON DELETE CASCADE,
    FOREIGN KEY (permission_id) REFERENCES permissions(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='è§’è‰²æƒé™å…³è”è¡¨';
```

#### 2.2.3 å®¢æˆ·ç®¡ç†ç›¸å…³è¡¨

##### 7. customers - å®¢æˆ·è¡¨

```sql
CREATE TABLE customers (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'å®¢æˆ·ID',
    customer_no VARCHAR(50) NOT NULL UNIQUE COMMENT 'å®¢æˆ·ç¼–å·',

    -- åŸºæœ¬ä¿¡æ¯
    name VARCHAR(50) NOT NULL COMMENT 'å§“å',
    gender ENUM('male', 'female') DEFAULT NULL COMMENT 'æ€§åˆ«',
    birth_date DATE DEFAULT NULL COMMENT 'å‡ºç”Ÿæ—¥æœŸ',
    phone VARCHAR(20) NOT NULL COMMENT 'æ‰‹æœºå·',
    id_card VARCHAR(18) DEFAULT NULL COMMENT 'èº«ä»½è¯å·ï¼ˆåŠ å¯†ï¼‰',

    -- åœ°å€ä¿¡æ¯
    province VARCHAR(50) DEFAULT NULL COMMENT 'çœ',
    city VARCHAR(50) DEFAULT NULL COMMENT 'å¸‚',
    district VARCHAR(50) DEFAULT NULL COMMENT 'åŒº',
    address VARCHAR(200) DEFAULT NULL COMMENT 'è¯¦ç»†åœ°å€',

    -- æ‰€å±å…³ç³»
    org_id BIGINT UNSIGNED NOT NULL COMMENT 'æ‰€å±æœºæ„ID',
    store_id BIGINT UNSIGNED NOT NULL COMMENT 'æ‰€å±é—¨åº—ID',
    counselor_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'ä¸“å±é¡¾é—®ID',

    -- æ¥æº
    source_channel ENUM('walk_in', 'referral', 'online', 'event', 'other') DEFAULT 'walk_in' COMMENT 'æ¥æºæ¸ é“',
    referrer_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'æ¨èäººID',

    -- ä¼šå‘˜ä¿¡æ¯
    member_level ENUM('normal', 'silver', 'gold', 'platinum', 'diamond') NOT NULL DEFAULT 'normal' COMMENT 'ä¼šå‘˜ç­‰çº§',
    member_points INT UNSIGNED NOT NULL DEFAULT 0 COMMENT 'ä¼šå‘˜ç§¯åˆ†',

    -- æ ‡ç­¾ï¼ˆJSONå­˜å‚¨ï¼‰
    tags JSON DEFAULT NULL COMMENT 'å®¢æˆ·æ ‡ç­¾',

    -- ç»Ÿè®¡ä¿¡æ¯
    total_consumption DECIMAL(10, 2) NOT NULL DEFAULT 0.00 COMMENT 'ç´¯è®¡æ¶ˆè´¹é‡‘é¢',
    total_orders INT UNSIGNED NOT NULL DEFAULT 0 COMMENT 'ç´¯è®¡è®¢å•æ•°',
    last_visit_at TIMESTAMP NULL DEFAULT NULL COMMENT 'æœ€ååˆ°åº—æ—¶é—´',

    -- å¤‡æ³¨
    remark TEXT DEFAULT NULL COMMENT 'å¤‡æ³¨',

    -- çŠ¶æ€
    status ENUM('active', 'inactive', 'blacklist') NOT NULL DEFAULT 'active' COMMENT 'çŠ¶æ€',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT UNSIGNED DEFAULT NULL,
    updated_by BIGINT UNSIGNED DEFAULT NULL,
    is_deleted TINYINT(1) NOT NULL DEFAULT 0,

    INDEX idx_phone (phone),
    INDEX idx_org_id (org_id),
    INDEX idx_store_id (store_id),
    INDEX idx_counselor_id (counselor_id),
    INDEX idx_member_level (member_level),
    INDEX idx_status (status),
    INDEX idx_created_at (created_at),

    FOREIGN KEY (org_id) REFERENCES organizations(id) ON DELETE RESTRICT,
    FOREIGN KEY (store_id) REFERENCES organizations(id) ON DELETE RESTRICT,
    FOREIGN KEY (counselor_id) REFERENCES users(id) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='å®¢æˆ·è¡¨';
```

##### 8. customer_diagnoses - å®¢æˆ·è¯Šæ–­è¡¨

```sql
CREATE TABLE customer_diagnoses (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'è¯Šæ–­ID',
    customer_id BIGINT UNSIGNED NOT NULL COMMENT 'å®¢æˆ·ID',
    org_id BIGINT UNSIGNED NOT NULL COMMENT 'æ‰€å±æœºæ„ID',

    diagnose_date DATE NOT NULL COMMENT 'è¯Šæ–­æ—¥æœŸ',
    diagnosed_by BIGINT UNSIGNED NOT NULL COMMENT 'è¯Šæ–­äººID',

    -- çš®è‚¤è¯Šæ–­
    skin_type ENUM('dry', 'oily', 'combination', 'sensitive', 'normal') DEFAULT NULL COMMENT 'è‚¤è´¨ç±»å‹',
    skin_problems JSON DEFAULT NULL COMMENT 'çš®è‚¤é—®é¢˜ï¼ˆJSONæ•°ç»„ï¼‰',
    skin_sensitivity JSON DEFAULT NULL COMMENT 'æ•æ„Ÿæºï¼ˆJSONæ•°ç»„ï¼‰',

    -- æ¯›å‘è¯Šæ–­
    hair_type ENUM('dry', 'oily', 'normal', 'damaged') DEFAULT NULL COMMENT 'å‘è´¨ç±»å‹',
    hair_problems JSON DEFAULT NULL COMMENT 'æ¯›å‘é—®é¢˜ï¼ˆJSONæ•°ç»„ï¼‰',
    scalp_condition VARCHAR(100) DEFAULT NULL COMMENT 'å¤´çš®çŠ¶å†µ',

    -- è¯Šæ–­æ•°æ®ï¼ˆå¯æ‰©å±•å­—æ®µï¼‰
    diagnose_data JSON DEFAULT NULL COMMENT 'è¯¦ç»†è¯Šæ–­æ•°æ®',

    -- ç…§ç‰‡
    photos JSON DEFAULT NULL COMMENT 'è¯Šæ–­ç…§ç‰‡URLsï¼ˆJSONæ•°ç»„ï¼‰',

    -- å»ºè®®
    suggestions TEXT DEFAULT NULL COMMENT 'è¯Šæ–­å»ºè®®',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT UNSIGNED DEFAULT NULL,
    is_deleted TINYINT(1) NOT NULL DEFAULT 0,

    INDEX idx_customer_id (customer_id),
    INDEX idx_org_id (org_id),
    INDEX idx_diagnose_date (diagnose_date),

    FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE,
    FOREIGN KEY (diagnosed_by) REFERENCES users(id) ON DELETE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='å®¢æˆ·è¯Šæ–­è¡¨';
```

##### 9. customer_cases - å®¢æˆ·æ¡ˆä¾‹è¡¨

```sql
CREATE TABLE customer_cases (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'æ¡ˆä¾‹ID',
    customer_id BIGINT UNSIGNED NOT NULL COMMENT 'å®¢æˆ·ID',
    org_id BIGINT UNSIGNED NOT NULL COMMENT 'æ‰€å±æœºæ„ID',

    case_title VARCHAR(200) NOT NULL COMMENT 'æ¡ˆä¾‹æ ‡é¢˜',
    case_type ENUM('skin_care', 'hair_care', 'body_care', 'other') NOT NULL COMMENT 'æ¡ˆä¾‹ç±»å‹',

    -- æœåŠ¡ä¿¡æ¯
    service_period VARCHAR(50) DEFAULT NULL COMMENT 'æœåŠ¡å‘¨æœŸï¼ˆå¦‚ï¼š3ä¸ªæœˆï¼‰',
    service_frequency VARCHAR(50) DEFAULT NULL COMMENT 'æœåŠ¡é¢‘æ¬¡ï¼ˆå¦‚ï¼šæ¯å‘¨2æ¬¡ï¼‰',

    -- é—®é¢˜æè¿°
    initial_problems TEXT DEFAULT NULL COMMENT 'åˆå§‹é—®é¢˜æè¿°',

    -- æ–¹æ¡ˆè¯´æ˜
    treatment_plan TEXT DEFAULT NULL COMMENT 'æ²»ç–—æ–¹æ¡ˆ',
    products_used JSON DEFAULT NULL COMMENT 'ä½¿ç”¨äº§å“ï¼ˆJSONæ•°ç»„ï¼‰',

    -- æ•ˆæœè¯´æ˜
    results TEXT DEFAULT NULL COMMENT 'æ•ˆæœè¯´æ˜',

    -- ç…§ç‰‡å¯¹æ¯”
    before_photos JSON DEFAULT NULL COMMENT 'å‰ç…§ç‰‡URLsï¼ˆJSONæ•°ç»„ï¼‰',
    after_photos JSON DEFAULT NULL COMMENT 'åç…§ç‰‡URLsï¼ˆJSONæ•°ç»„ï¼‰',

    -- å®¢æˆ·è¯„ä»·
    customer_feedback TEXT DEFAULT NULL COMMENT 'å®¢æˆ·è¯„ä»·',
    satisfaction_score TINYINT UNSIGNED DEFAULT NULL COMMENT 'æ»¡æ„åº¦è¯„åˆ†ï¼ˆ1-5ï¼‰',

    -- å±•ç¤ºæ§åˆ¶
    is_featured TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'æ˜¯å¦ç²¾é€‰',
    is_public TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'æ˜¯å¦å…¬å¼€å±•ç¤º',
    display_order INT UNSIGNED NOT NULL DEFAULT 0 COMMENT 'å±•ç¤ºé¡ºåº',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT UNSIGNED DEFAULT NULL,
    updated_by BIGINT UNSIGNED DEFAULT NULL,
    is_deleted TINYINT(1) NOT NULL DEFAULT 0,

    INDEX idx_customer_id (customer_id),
    INDEX idx_org_id (org_id),
    INDEX idx_case_type (case_type),
    INDEX idx_is_featured (is_featured),
    INDEX idx_is_public (is_public),

    FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='å®¢æˆ·æ¡ˆä¾‹è¡¨';
```

#### 2.2.4 è®¢å•ç®¡ç†ç›¸å…³è¡¨

##### 10. orders - è®¢å•è¡¨

```sql
CREATE TABLE orders (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'è®¢å•ID',
    order_no VARCHAR(50) NOT NULL UNIQUE COMMENT 'è®¢å•ç¼–å·',

    -- å®¢æˆ·ä¿¡æ¯
    customer_id BIGINT UNSIGNED NOT NULL COMMENT 'å®¢æˆ·ID',
    customer_name VARCHAR(50) NOT NULL COMMENT 'å®¢æˆ·å§“åï¼ˆå†—ä½™ï¼‰',
    customer_phone VARCHAR(20) NOT NULL COMMENT 'å®¢æˆ·ç”µè¯ï¼ˆå†—ä½™ï¼‰',

    -- æ‰€å±å…³ç³»
    org_id BIGINT UNSIGNED NOT NULL COMMENT 'æ‰€å±æœºæ„ID',
    store_id BIGINT UNSIGNED NOT NULL COMMENT 'æ‰€å±é—¨åº—ID',

    -- æœåŠ¡äººå‘˜
    counselor_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'é¡¾é—®ID',
    beautician_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'ç¾å®¹å¸ˆID',

    -- è®¢å•é‡‘é¢
    original_amount DECIMAL(10, 2) NOT NULL COMMENT 'åŸå§‹é‡‘é¢',
    discount_amount DECIMAL(10, 2) NOT NULL DEFAULT 0.00 COMMENT 'ä¼˜æƒ é‡‘é¢',
    final_amount DECIMAL(10, 2) NOT NULL COMMENT 'å®ä»˜é‡‘é¢',

    -- æ”¯ä»˜ä¿¡æ¯
    payment_method ENUM('cash', 'wechat', 'alipay', 'card', 'membercard', 'other') DEFAULT NULL COMMENT 'æ”¯ä»˜æ–¹å¼',
    payment_status ENUM('unpaid', 'partial', 'paid', 'refunded') NOT NULL DEFAULT 'unpaid' COMMENT 'æ”¯ä»˜çŠ¶æ€',
    paid_amount DECIMAL(10, 2) NOT NULL DEFAULT 0.00 COMMENT 'å·²ä»˜é‡‘é¢',
    paid_at TIMESTAMP NULL DEFAULT NULL COMMENT 'æ”¯ä»˜æ—¶é—´',

    -- è®¢å•çŠ¶æ€
    order_status ENUM('pending', 'confirmed', 'in_progress', 'completed', 'cancelled', 'refunding', 'refunded') NOT NULL DEFAULT 'pending' COMMENT 'è®¢å•çŠ¶æ€',

    -- æœåŠ¡æ—¶é—´
    service_date DATE DEFAULT NULL COMMENT 'æœåŠ¡æ—¥æœŸ',
    service_start_time TIME DEFAULT NULL COMMENT 'æœåŠ¡å¼€å§‹æ—¶é—´',
    service_end_time TIME DEFAULT NULL COMMENT 'æœåŠ¡ç»“æŸæ—¶é—´',

    -- å¤‡æ³¨
    remark TEXT DEFAULT NULL COMMENT 'è®¢å•å¤‡æ³¨',
    cancel_reason TEXT DEFAULT NULL COMMENT 'å–æ¶ˆåŸå› ',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT UNSIGNED DEFAULT NULL,
    updated_by BIGINT UNSIGNED DEFAULT NULL,
    is_deleted TINYINT(1) NOT NULL DEFAULT 0,

    INDEX idx_order_no (order_no),
    INDEX idx_customer_id (customer_id),
    INDEX idx_org_id (org_id),
    INDEX idx_store_id (store_id),
    INDEX idx_order_status (order_status),
    INDEX idx_payment_status (payment_status),
    INDEX idx_service_date (service_date),
    INDEX idx_created_at (created_at),

    FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE RESTRICT,
    FOREIGN KEY (org_id) REFERENCES organizations(id) ON DELETE RESTRICT,
    FOREIGN KEY (store_id) REFERENCES organizations(id) ON DELETE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='è®¢å•è¡¨';
```

##### 11. order_items - è®¢å•æ˜ç»†è¡¨

```sql
CREATE TABLE order_items (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'æ˜ç»†ID',
    order_id BIGINT UNSIGNED NOT NULL COMMENT 'è®¢å•ID',
    org_id BIGINT UNSIGNED NOT NULL COMMENT 'æ‰€å±æœºæ„ID',

    -- é¡¹ç›®ä¿¡æ¯
    service_id BIGINT UNSIGNED NOT NULL COMMENT 'æœåŠ¡é¡¹ç›®ID',
    service_name VARCHAR(100) NOT NULL COMMENT 'æœåŠ¡é¡¹ç›®åç§°',
    service_category VARCHAR(50) DEFAULT NULL COMMENT 'æœåŠ¡ç±»åˆ«',

    -- ä»·æ ¼ä¿¡æ¯
    unit_price DECIMAL(10, 2) NOT NULL COMMENT 'å•ä»·',
    quantity INT UNSIGNED NOT NULL DEFAULT 1 COMMENT 'æ•°é‡',
    discount_rate DECIMAL(5, 2) NOT NULL DEFAULT 0.00 COMMENT 'æŠ˜æ‰£ç‡(%)',
    subtotal DECIMAL(10, 2) NOT NULL COMMENT 'å°è®¡',

    -- æ‰§è¡Œäººå‘˜
    beautician_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'æ‰§è¡Œç¾å®¹å¸ˆID',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,

    INDEX idx_order_id (order_id),
    INDEX idx_service_id (service_id),

    FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='è®¢å•æ˜ç»†è¡¨';
```

##### 12. services - æœåŠ¡é¡¹ç›®è¡¨

```sql
CREATE TABLE services (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'æœåŠ¡é¡¹ç›®ID',
    service_code VARCHAR(50) NOT NULL COMMENT 'é¡¹ç›®ç¼–ç ',
    service_name VARCHAR(100) NOT NULL COMMENT 'é¡¹ç›®åç§°',

    -- åˆ†ç±»
    category ENUM('skin_care', 'hair_care', 'body_care', 'spa', 'other') NOT NULL COMMENT 'æœåŠ¡ç±»åˆ«',
    subcategory VARCHAR(50) DEFAULT NULL COMMENT 'å­ç±»åˆ«',

    -- æ‰€å±æœºæ„ï¼ˆnullè¡¨ç¤ºå…¨å±€å¯ç”¨ï¼‰
    org_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'æ‰€å±æœºæ„IDï¼ˆNULLè¡¨ç¤ºæ€»éƒ¨åˆ›å»ºï¼‰',

    -- ä»·æ ¼
    standard_price DECIMAL(10, 2) NOT NULL COMMENT 'æ ‡å‡†ä»·æ ¼',
    vip_price DECIMAL(10, 2) DEFAULT NULL COMMENT 'VIPä»·æ ¼',

    -- æœåŠ¡æ—¶é•¿
    duration_minutes INT UNSIGNED NOT NULL DEFAULT 60 COMMENT 'æœåŠ¡æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰',

    -- æè¿°
    description TEXT DEFAULT NULL COMMENT 'é¡¹ç›®æè¿°',
    benefits TEXT DEFAULT NULL COMMENT 'åŠŸæ•ˆè¯´æ˜',

    -- é€‚ç”¨èŒƒå›´
    suitable_for JSON DEFAULT NULL COMMENT 'é€‚ç”¨äººç¾¤ï¼ˆJSONï¼‰',

    -- å±•ç¤º
    cover_image VARCHAR(255) DEFAULT NULL COMMENT 'å°é¢å›¾',
    is_featured TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'æ˜¯å¦æ¨è',
    display_order INT UNSIGNED NOT NULL DEFAULT 0 COMMENT 'æ’åº',

    -- çŠ¶æ€
    status ENUM('active', 'inactive') NOT NULL DEFAULT 'active',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT UNSIGNED DEFAULT NULL,
    updated_by BIGINT UNSIGNED DEFAULT NULL,
    is_deleted TINYINT(1) NOT NULL DEFAULT 0,

    UNIQUE KEY uk_org_code (org_id, service_code),
    INDEX idx_category (category),
    INDEX idx_status (status),
    INDEX idx_org_id (org_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æœåŠ¡é¡¹ç›®è¡¨';
```

#### 2.2.5 ä»»åŠ¡ç®¡ç†ç›¸å…³è¡¨

##### 13. tasks - ä»»åŠ¡è¡¨

```sql
CREATE TABLE tasks (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'ä»»åŠ¡ID',
    task_no VARCHAR(50) NOT NULL UNIQUE COMMENT 'ä»»åŠ¡ç¼–å·',

    -- ä»»åŠ¡ä¿¡æ¯
    title VARCHAR(200) NOT NULL COMMENT 'ä»»åŠ¡æ ‡é¢˜',
    description TEXT DEFAULT NULL COMMENT 'ä»»åŠ¡æè¿°',
    task_type ENUM('follow_up', 'birthday', 'feedback', 'complaint', 'custom') NOT NULL COMMENT 'ä»»åŠ¡ç±»å‹',
    priority ENUM('low', 'medium', 'high', 'urgent') NOT NULL DEFAULT 'medium' COMMENT 'ä¼˜å…ˆçº§',

    -- å…³è”
    customer_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'å…³è”å®¢æˆ·ID',
    order_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'å…³è”è®¢å•ID',
    org_id BIGINT UNSIGNED NOT NULL COMMENT 'æ‰€å±æœºæ„ID',

    -- åˆ†é…
    assigned_to BIGINT UNSIGNED NOT NULL COMMENT 'æ‰§è¡ŒäººID',
    assigned_by BIGINT UNSIGNED DEFAULT NULL COMMENT 'åˆ†é…äººID',

    -- æ—¶é—´
    due_date DATE DEFAULT NULL COMMENT 'æˆªæ­¢æ—¥æœŸ',
    reminder_time TIMESTAMP NULL DEFAULT NULL COMMENT 'æé†’æ—¶é—´',
    completed_at TIMESTAMP NULL DEFAULT NULL COMMENT 'å®Œæˆæ—¶é—´',

    -- çŠ¶æ€
    status ENUM('pending', 'in_progress', 'completed', 'cancelled', 'overdue') NOT NULL DEFAULT 'pending' COMMENT 'ä»»åŠ¡çŠ¶æ€',

    -- å®Œæˆä¿¡æ¯
    completion_note TEXT DEFAULT NULL COMMENT 'å®Œæˆè¯´æ˜',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT UNSIGNED DEFAULT NULL,
    updated_by BIGINT UNSIGNED DEFAULT NULL,
    is_deleted TINYINT(1) NOT NULL DEFAULT 0,

    INDEX idx_task_no (task_no),
    INDEX idx_customer_id (customer_id),
    INDEX idx_assigned_to (assigned_to),
    INDEX idx_org_id (org_id),
    INDEX idx_status (status),
    INDEX idx_task_type (task_type),
    INDEX idx_due_date (due_date),

    FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE SET NULL,
    FOREIGN KEY (assigned_to) REFERENCES users(id) ON DELETE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ä»»åŠ¡è¡¨';
```

#### 2.2.6 æ–¹æ¡ˆæ¨¡æ¿ç›¸å…³è¡¨

##### 14. solution_templates - æ–¹æ¡ˆæ¨¡æ¿è¡¨

```sql
CREATE TABLE solution_templates (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'æ¨¡æ¿ID',
    template_code VARCHAR(50) NOT NULL COMMENT 'æ¨¡æ¿ç¼–ç ',
    template_name VARCHAR(200) NOT NULL COMMENT 'æ¨¡æ¿åç§°',

    -- åˆ†ç±»
    category ENUM('hydration', 'whitening', 'anti_aging', 'repair', 'hair_care', 'other') NOT NULL COMMENT 'æ–¹æ¡ˆç±»åˆ«',

    -- æ‰€å±ï¼ˆNULLè¡¨ç¤ºæ€»éƒ¨åˆ›å»ºçš„å…¨å±€æ¨¡æ¿ï¼‰
    org_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'æ‰€å±æœºæ„ID',
    scope ENUM('global', 'org', 'private') NOT NULL DEFAULT 'org' COMMENT 'å…±äº«èŒƒå›´',

    -- é€‚ç”¨æ¡ä»¶
    suitable_skin_types JSON DEFAULT NULL COMMENT 'é€‚ç”¨è‚¤è´¨ï¼ˆJSONæ•°ç»„ï¼‰',
    suitable_problems JSON DEFAULT NULL COMMENT 'é€‚ç”¨é—®é¢˜ï¼ˆJSONæ•°ç»„ï¼‰',
    target_group VARCHAR(100) DEFAULT NULL COMMENT 'ç›®æ ‡äººç¾¤',

    -- æ–¹æ¡ˆå†…å®¹
    course_duration VARCHAR(50) DEFAULT NULL COMMENT 'ç–—ç¨‹æ—¶é•¿',
    treatment_frequency VARCHAR(50) DEFAULT NULL COMMENT 'æ²»ç–—é¢‘æ¬¡',
    steps JSON DEFAULT NULL COMMENT 'æ­¥éª¤è¯´æ˜ï¼ˆJSONæ•°ç»„ï¼‰',
    products JSON DEFAULT NULL COMMENT 'æ¨èäº§å“ï¼ˆJSONæ•°ç»„ï¼‰',
    services JSON DEFAULT NULL COMMENT 'åŒ…å«æœåŠ¡ï¼ˆJSONæ•°ç»„ï¼‰',

    -- æ•ˆæœè¯´æ˜
    expected_effects TEXT DEFAULT NULL COMMENT 'é¢„æœŸæ•ˆæœ',
    precautions TEXT DEFAULT NULL COMMENT 'æ³¨æ„äº‹é¡¹',

    -- ä»·æ ¼
    estimated_price_min DECIMAL(10, 2) DEFAULT NULL COMMENT 'é¢„ä¼°ä»·æ ¼ä¸‹é™',
    estimated_price_max DECIMAL(10, 2) DEFAULT NULL COMMENT 'é¢„ä¼°ä»·æ ¼ä¸Šé™',

    -- å±•ç¤º
    cover_image VARCHAR(255) DEFAULT NULL COMMENT 'å°é¢å›¾',
    case_photos JSON DEFAULT NULL COMMENT 'æ¡ˆä¾‹ç…§ç‰‡ï¼ˆJSONæ•°ç»„ï¼‰',

    -- ç»Ÿè®¡
    usage_count INT UNSIGNED NOT NULL DEFAULT 0 COMMENT 'ä½¿ç”¨æ¬¡æ•°',

    -- çŠ¶æ€
    status ENUM('active', 'inactive') NOT NULL DEFAULT 'active',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT UNSIGNED DEFAULT NULL,
    updated_by BIGINT UNSIGNED DEFAULT NULL,
    is_deleted TINYINT(1) NOT NULL DEFAULT 0,

    UNIQUE KEY uk_org_code (org_id, template_code),
    INDEX idx_category (category),
    INDEX idx_org_id (org_id),
    INDEX idx_scope (scope),
    INDEX idx_status (status)
)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æ–¹æ¡ˆæ¨¡æ¿è¡¨';
```

##### 15. customer_profile_templates - å®¢æˆ·èµ„æ–™æ¨¡æ¿è¡¨ â­ æ–°å¢

ç”¨äºçµæ´»é…ç½®ä¸åŒæœºæ„çš„å®¢æˆ·ä¿¡æ¯é‡‡é›†å­—æ®µã€‚

```sql
CREATE TABLE customer_profile_templates (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'æ¨¡æ¿ID',
    template_code VARCHAR(50) NOT NULL COMMENT 'æ¨¡æ¿ç¼–ç ',
    template_name VARCHAR(100) NOT NULL COMMENT 'æ¨¡æ¿åç§°',
    description TEXT DEFAULT NULL COMMENT 'æ¨¡æ¿æè¿°',

    -- æ‰€å±èŒƒå›´
    org_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'æ‰€å±æœºæ„IDï¼ˆNULLè¡¨ç¤ºå…¨å±€æ¨¡æ¿ï¼‰',
    scope ENUM('global', 'org', 'private') NOT NULL DEFAULT 'org' COMMENT 'å…±äº«èŒƒå›´',

    -- é€‚ç”¨åœºæ™¯
    apply_scene ENUM('all', 'new_customer', 'vip_customer', 'online_register', 'other') NOT NULL DEFAULT 'all' COMMENT 'é€‚ç”¨åœºæ™¯',

    -- å­—æ®µé…ç½®ï¼ˆæ ¸å¿ƒJSONå­—æ®µï¼‰
    fields JSON NOT NULL COMMENT 'å­—æ®µå®šä¹‰ï¼ˆJSONæ•°ç»„ï¼‰',
    /*
    å­—æ®µå®šä¹‰ç¤ºä¾‹ï¼š
    [
        {
            "field_key": "skin_type",
            "field_name": "è‚¤è´¨ç±»å‹",
            "field_type": "select",
            "required": true,
            "options": ["å¹²æ€§", "æ²¹æ€§", "æ··åˆæ€§", "æ•æ„Ÿæ€§", "ä¸­æ€§"],
            "default_value": "",
            "placeholder": "è¯·é€‰æ‹©è‚¤è´¨ç±»å‹",
            "display_order": 1,
            "group": "çš®è‚¤ä¿¡æ¯"
        }
    ]
    */

    -- åˆ†ç»„é…ç½®
    field_groups JSON DEFAULT NULL COMMENT 'å­—æ®µåˆ†ç»„é…ç½®',

    -- ç‰ˆæœ¬ç®¡ç†
    version VARCHAR(20) DEFAULT '1.0' COMMENT 'æ¨¡æ¿ç‰ˆæœ¬å·',
    is_default TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'æ˜¯å¦é»˜è®¤æ¨¡æ¿',

    -- ä½¿ç”¨ç»Ÿè®¡
    usage_count INT UNSIGNED NOT NULL DEFAULT 0 COMMENT 'ä½¿ç”¨æ¬¡æ•°',

    -- çŠ¶æ€
    status ENUM('active', 'inactive', 'draft') NOT NULL DEFAULT 'active' COMMENT 'çŠ¶æ€',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT UNSIGNED DEFAULT NULL,
    updated_by BIGINT UNSIGNED DEFAULT NULL,
    is_deleted TINYINT(1) NOT NULL DEFAULT 0,

    UNIQUE KEY uk_org_code (org_id, template_code),
    INDEX idx_org_id (org_id),
    INDEX idx_scope (scope),
    INDEX idx_status (status),
    INDEX idx_apply_scene (apply_scene)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='å®¢æˆ·èµ„æ–™æ¨¡æ¿è¡¨';
```

**å­—æ®µè¯´æ˜**ï¼š
- `fields`ï¼šJSONæ•°ç»„ï¼Œå­˜å‚¨è‡ªå®šä¹‰å­—æ®µé…ç½®ï¼Œæ”¯æŒå¤šç§å­—æ®µç±»å‹ï¼ˆtext, select, checkboxç­‰ï¼‰
- `field_groups`ï¼šå­—æ®µåˆ†ç»„é…ç½®ï¼Œä¼˜åŒ–è¡¨å•å±•ç¤º
- `scope`ï¼šæ¨¡æ¿å…±äº«èŒƒå›´ï¼ˆglobal/org/privateï¼‰
- `apply_scene`ï¼šé€‚ç”¨åœºæ™¯ï¼Œå¯é’ˆå¯¹ä¸åŒå®¢æˆ·ç±»å‹ä½¿ç”¨ä¸åŒæ¨¡æ¿

##### 16. task_templates - ä»»åŠ¡æ¨¡æ¿è¡¨ â­ æ–°å¢

æ ‡å‡†åŒ–å¸¸è§ä¸šåŠ¡ä»»åŠ¡æµç¨‹ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚

```sql
CREATE TABLE task_templates (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'æ¨¡æ¿ID',
    template_code VARCHAR(50) NOT NULL COMMENT 'æ¨¡æ¿ç¼–ç ',
    template_name VARCHAR(100) NOT NULL COMMENT 'æ¨¡æ¿åç§°',
    description TEXT DEFAULT NULL COMMENT 'æ¨¡æ¿æè¿°',

    -- æ‰€å±èŒƒå›´
    org_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'æ‰€å±æœºæ„IDï¼ˆNULLè¡¨ç¤ºå…¨å±€æ¨¡æ¿ï¼‰',
    scope ENUM('global', 'org', 'private') NOT NULL DEFAULT 'org' COMMENT 'å…±äº«èŒƒå›´',

    -- ä»»åŠ¡åˆ†ç±»
    category ENUM('customer_follow_up', 'service_process', 'quality_check', 'inventory', 'training', 'other') NOT NULL DEFAULT 'other' COMMENT 'ä»»åŠ¡åˆ†ç±»',

    -- ä»»åŠ¡åŸºæœ¬ä¿¡æ¯
    priority ENUM('low', 'medium', 'high', 'urgent') NOT NULL DEFAULT 'medium' COMMENT 'é»˜è®¤ä¼˜å…ˆçº§',
    estimated_duration INT UNSIGNED DEFAULT NULL COMMENT 'é¢„è®¡æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰',
    assigned_role VARCHAR(50) DEFAULT NULL COMMENT 'é»˜è®¤æŒ‡æ´¾è§’è‰²',

    -- ä»»åŠ¡æ­¥éª¤é…ç½®ï¼ˆæ ¸å¿ƒJSONå­—æ®µï¼‰
    steps JSON NOT NULL COMMENT 'ä»»åŠ¡æ­¥éª¤å®šä¹‰ï¼ˆJSONæ•°ç»„ï¼‰',
    /*
    æ­¥éª¤å®šä¹‰ç¤ºä¾‹ï¼š
    [
        {
            "step_order": 1,
            "step_name": "å®¢æˆ·ä¿¡æ¯ç¡®è®¤",
            "step_type": "checklist",
            "required": true,
            "description": "æ ¸å¯¹å®¢æˆ·åŸºç¡€ä¿¡æ¯",
            "checklist_items": ["ç¡®è®¤å®¢æˆ·å§“å", "æ ¸å¯¹é¢„çº¦æ—¶é—´"],
            "estimated_minutes": 5
        }
    ]
    */

    -- æé†’é…ç½®
    reminder_config JSON DEFAULT NULL COMMENT 'æé†’é…ç½®',

    -- æ ‡ç­¾å’Œå…³é”®è¯
    tags JSON DEFAULT NULL COMMENT 'æ ‡ç­¾ï¼ˆç”¨äºæœç´¢å’Œåˆ†ç±»ï¼‰',

    -- ç‰ˆæœ¬ç®¡ç†
    version VARCHAR(20) DEFAULT '1.0' COMMENT 'æ¨¡æ¿ç‰ˆæœ¬å·',
    is_default TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'æ˜¯å¦é»˜è®¤æ¨¡æ¿',

    -- ä½¿ç”¨ç»Ÿè®¡
    usage_count INT UNSIGNED NOT NULL DEFAULT 0 COMMENT 'ä½¿ç”¨æ¬¡æ•°',

    -- çŠ¶æ€
    status ENUM('active', 'inactive', 'draft') NOT NULL DEFAULT 'active' COMMENT 'çŠ¶æ€',

    -- å®¡è®¡å­—æ®µ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT UNSIGNED DEFAULT NULL,
    updated_by BIGINT UNSIGNED DEFAULT NULL,
    is_deleted TINYINT(1) NOT NULL DEFAULT 0,

    UNIQUE KEY uk_org_code (org_id, template_code),
    INDEX idx_org_id (org_id),
    INDEX idx_scope (scope),
    INDEX idx_category (category),
    INDEX idx_status (status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ä»»åŠ¡æ¨¡æ¿è¡¨';
```

**å­—æ®µè¯´æ˜**ï¼š
- `steps`ï¼šJSONæ•°ç»„ï¼Œå®šä¹‰æ ‡å‡†åŒ–ä»»åŠ¡æ­¥éª¤ï¼ŒåŒ…å«æ£€æŸ¥é¡¹ã€é¢„è®¡æ—¶é—´ç­‰
- `category`ï¼šä»»åŠ¡åˆ†ç±»ï¼ˆå®¢æˆ·è·Ÿè¿›/æœåŠ¡æµç¨‹/è´¨é‡æ£€æŸ¥/åº“å­˜/åŸ¹è®­/å…¶ä»–ï¼‰
- `reminder_config`ï¼šæé†’é…ç½®ï¼Œæ”¯æŒä»»åŠ¡åˆ°æœŸæé†’
- `tags`ï¼šæ ‡ç­¾æ•°ç»„ï¼Œæ–¹ä¾¿æœç´¢å’Œåˆ†ç±»

#### 2.2.7 ç³»ç»Ÿæ—¥å¿—è¡¨

##### 17. operation_logs - æ“ä½œæ—¥å¿—è¡¨

```sql
CREATE TABLE operation_logs (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'æ—¥å¿—ID',

    -- æ“ä½œäºº
    user_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'æ“ä½œäººID',
    username VARCHAR(50) DEFAULT NULL COMMENT 'æ“ä½œäººç”¨æˆ·å',
    org_id BIGINT UNSIGNED DEFAULT NULL COMMENT 'æ‰€å±æœºæ„ID',

    -- æ“ä½œä¿¡æ¯
    module VARCHAR(50) NOT NULL COMMENT 'æ¨¡å—åç§°',
    action VARCHAR(50) NOT NULL COMMENT 'æ“ä½œç±»å‹ï¼ˆcreate/update/delete/viewï¼‰',
    description VARCHAR(500) DEFAULT NULL COMMENT 'æ“ä½œæè¿°',

    -- è¯·æ±‚ä¿¡æ¯
    request_method VARCHAR(10) DEFAULT NULL COMMENT 'è¯·æ±‚æ–¹æ³•',
    request_url VARCHAR(500) DEFAULT NULL COMMENT 'è¯·æ±‚URL',
    request_params JSON DEFAULT NULL COMMENT 'è¯·æ±‚å‚æ•°',

    -- å“åº”ä¿¡æ¯
    response_status INT DEFAULT NULL COMMENT 'å“åº”çŠ¶æ€ç ',
    response_time INT UNSIGNED DEFAULT NULL COMMENT 'å“åº”è€—æ—¶ï¼ˆmsï¼‰',

    -- ç¯å¢ƒä¿¡æ¯
    ip_address VARCHAR(50) DEFAULT NULL COMMENT 'IPåœ°å€',
    user_agent VARCHAR(500) DEFAULT NULL COMMENT 'ç”¨æˆ·ä»£ç†',

    -- æ—¶é—´
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'æ“ä½œæ—¶é—´',

    INDEX idx_user_id (user_id),
    INDEX idx_org_id (org_id),
    INDEX idx_module (module),
    INDEX idx_action (action),
    INDEX idx_created_at (created_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æ“ä½œæ—¥å¿—è¡¨';
```

---

### 2.3 æ•°æ®åº“å…³ç³»å›¾

```
organizations (æœºæ„)
    â”œâ”€â”€ 1:N â†’ organizations (å­æœºæ„)
    â”œâ”€â”€ 1:N â†’ users (å‘˜å·¥)
    â”œâ”€â”€ 1:N â†’ customers (å®¢æˆ·)
    â”œâ”€â”€ 1:N â†’ orders (è®¢å•)
    â”œâ”€â”€ 1:N â†’ tasks (ä»»åŠ¡)
    â””â”€â”€ 1:N â†’ solution_templates (æ–¹æ¡ˆæ¨¡æ¿)

users (ç”¨æˆ·)
    â”œâ”€â”€ M:N â†’ roles (è§’è‰²) [é€šè¿‡ user_roles]
    â”œâ”€â”€ 1:N â†’ customers (ä½œä¸ºé¡¾é—®)
    â”œâ”€â”€ 1:N â†’ tasks (ä½œä¸ºæ‰§è¡Œäºº)
    â””â”€â”€ 1:N â†’ operation_logs (æ“ä½œæ—¥å¿—)

roles (è§’è‰²)
    â””â”€â”€ M:N â†’ permissions (æƒé™) [é€šè¿‡ role_permissions]

customers (å®¢æˆ·)
    â”œâ”€â”€ 1:N â†’ customer_diagnoses (è¯Šæ–­è®°å½•)
    â”œâ”€â”€ 1:N â†’ customer_cases (å®¢æˆ·æ¡ˆä¾‹)
    â”œâ”€â”€ 1:N â†’ orders (è®¢å•)
    â””â”€â”€ 1:N â†’ tasks (ä»»åŠ¡)

orders (è®¢å•)
    â””â”€â”€ 1:N â†’ order_items (è®¢å•æ˜ç»†)

services (æœåŠ¡é¡¹ç›®)
    â””â”€â”€ 1:N â†’ order_items (è®¢å•æ˜ç»†)
```

---

## ä¸‰ã€æ¥å£è®¾è®¡

### 3.1 RESTful API è§„èŒƒ

#### 3.1.1 URLè®¾è®¡è§„èŒƒ

```
æ ¼å¼: /api/v1/{resource}[/{id}][/action]

ç¤ºä¾‹:
GET     /api/v1/customers              # è·å–å®¢æˆ·åˆ—è¡¨
GET     /api/v1/customers/123          # è·å–å®¢æˆ·è¯¦æƒ…
POST    /api/v1/customers              # åˆ›å»ºå®¢æˆ·
PUT     /api/v1/customers/123          # æ›´æ–°å®¢æˆ·
DELETE  /api/v1/customers/123          # åˆ é™¤å®¢æˆ·
GET     /api/v1/customers/123/orders   # è·å–å®¢æˆ·çš„è®¢å•åˆ—è¡¨
```

#### 3.1.2 ç»Ÿä¸€å“åº”æ ¼å¼

**æˆåŠŸå“åº”**:
```json
{
    "code": 200,
    "message": "success",
    "data": {
        // å“åº”æ•°æ®
    },
    "timestamp": 1701417600000
}
```

**å¤±è´¥å“åº”**:
```json
{
    "code": 400,
    "message": "å‚æ•°é”™è¯¯",
    "error": {
        "field": "phone",
        "message": "æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®"
    },
    "timestamp": 1701417600000
}
```

**åˆ†é¡µå“åº”**:
```json
{
    "code": 200,
    "message": "success",
    "data": {
        "list": [...],
        "pagination": {
            "page": 1,
            "pageSize": 20,
            "total": 100,
            "totalPages": 5
        }
    },
    "timestamp": 1701417600000
}
```

#### 3.1.3 çŠ¶æ€ç è§„èŒƒ

| çŠ¶æ€ç  | è¯´æ˜ |
|--------|------|
| 200 | è¯·æ±‚æˆåŠŸ |
| 201 | åˆ›å»ºæˆåŠŸ |
| 400 | å‚æ•°é”™è¯¯ |
| 401 | æœªè®¤è¯ |
| 403 | æ— æƒé™ |
| 404 | èµ„æºä¸å­˜åœ¨ |
| 500 | æœåŠ¡å™¨é”™è¯¯ |

### 3.2 æ ¸å¿ƒAPIæ¥å£

#### 3.2.1 è®¤è¯æ¥å£

```javascript
POST /api/v1/auth/login
è¯·æ±‚ä½“:
{
    "username": "admin",
    "password": "password123"
}

å“åº”:
{
    "code": 200,
    "data": {
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "user": {
            "id": 1,
            "username": "admin",
            "realName": "ç®¡ç†å‘˜",
            "orgId": 1,
            "orgName": "æ€»éƒ¨",
            "roles": ["admin"]
        }
    }
}
```

#### 3.2.2 å®¢æˆ·ç®¡ç†æ¥å£

```javascript
// è·å–å®¢æˆ·åˆ—è¡¨
GET /api/v1/customers?page=1&pageSize=20&keyword=å¼ ä¸‰&memberLevel=gold

// åˆ›å»ºå®¢æˆ·
POST /api/v1/customers
{
    "name": "å¼ ä¸‰",
    "gender": "male",
    "phone": "13800138000",
    "storeId": 10,
    "sourceChannel": "referral"
}

// è·å–å®¢æˆ·è¯¦æƒ…
GET /api/v1/customers/123

// æ›´æ–°å®¢æˆ·
PUT /api/v1/customers/123
{
    "memberLevel": "gold",
    "tags": ["é«˜ä»·å€¼å®¢æˆ·", "æ•æ„Ÿè‚Œ"]
}

// åˆ é™¤å®¢æˆ·ï¼ˆè½¯åˆ é™¤ï¼‰
DELETE /api/v1/customers/123
```

#### 3.2.3 è®¢å•ç®¡ç†æ¥å£

```javascript
// åˆ›å»ºè®¢å•
POST /api/v1/orders
{
    "customerId": 123,
    "storeId": 10,
    "items": [
        {
            "serviceId": 5,
            "quantity": 1,
            "unitPrice": 299.00
        }
    ],
    "paymentMethod": "wechat",
    "serviceDate": "2025-12-15"
}

// æ›´æ–°è®¢å•çŠ¶æ€
PUT /api/v1/orders/456/status
{
    "status": "completed"
}

// è·å–è®¢å•åˆ—è¡¨
GET /api/v1/orders?status=completed&startDate=2025-12-01&endDate=2025-12-31
```

#### 3.2.4 æ•°æ®ç»Ÿè®¡æ¥å£

```javascript
// è·å–é¦–é¡µçœ‹æ¿æ•°æ®
GET /api/v1/dashboard/overview?date=2025-12-01

å“åº”:
{
    "code": 200,
    "data": {
        "todayRevenue": 15680.00,
        "todayOrders": 45,
        "newCustomers": 12,
        "pendingTasks": 8,
        "revenueChart": [...],
        "orderStatusDistribution": [...]
    }
}

// è·å–ä¸šç»©ç»Ÿè®¡
GET /api/v1/statistics/performance?type=store&startDate=2025-11-01&endDate=2025-11-30
```

---

## å››ã€æƒé™è®¾è®¡

### 4.1 RBACæƒé™æ¨¡å‹

#### 4.1.1 é¢„è®¾è§’è‰²

| è§’è‰²ç¼–ç  | è§’è‰²åç§° | æ•°æ®æƒé™èŒƒå›´ | è¯´æ˜ |
|---------|---------|------------|------|
| `super_admin` | è¶…çº§ç®¡ç†å‘˜ | all | æ€»éƒ¨æœ€é«˜æƒé™ï¼ŒæŸ¥çœ‹æ‰€æœ‰æ•°æ® |
| `platform_admin` | å¹³å°ç®¡ç†å‘˜ | all | æ€»éƒ¨ç®¡ç†å‘˜ï¼Œç®¡ç†åŠ ç›Ÿå•† |
| `franchisee_admin` | åŠ ç›Ÿå•†ç®¡ç†å‘˜ | org | ç®¡ç†æœ¬æœºæ„æ‰€æœ‰é—¨åº— |
| `store_manager` | é—¨åº—åº—é•¿ | store | ç®¡ç†æœ¬é—¨åº—æ•°æ® |
| `counselor` | ç¾å®¹é¡¾é—® | self | æŸ¥çœ‹åˆ†é…ç»™è‡ªå·±çš„å®¢æˆ· |
| `beautician` | ç¾å®¹å¸ˆ | self | æŸ¥çœ‹åˆ†é…ç»™è‡ªå·±çš„è®¢å• |
| `finance` | è´¢åŠ¡äººå‘˜ | org | æŸ¥çœ‹è´¢åŠ¡ç›¸å…³æ•°æ® |

#### 4.1.2 æƒé™åˆ—è¡¨

```sql
-- èœå•æƒé™
dashboard:view              -- æŸ¥çœ‹æ•°æ®çœ‹æ¿
customers:view              -- æŸ¥çœ‹å®¢æˆ·åˆ—è¡¨
customers:create            -- åˆ›å»ºå®¢æˆ·
customers:edit              -- ç¼–è¾‘å®¢æˆ·
customers:delete            -- åˆ é™¤å®¢æˆ·
customers:export            -- å¯¼å‡ºå®¢æˆ·æ•°æ®

orders:view                 -- æŸ¥çœ‹è®¢å•
orders:create               -- åˆ›å»ºè®¢å•
orders:edit                 -- ç¼–è¾‘è®¢å•
orders:delete               -- åˆ é™¤è®¢å•
orders:refund               -- è®¢å•é€€æ¬¾

tasks:view                  -- æŸ¥çœ‹ä»»åŠ¡
tasks:create                -- åˆ›å»ºä»»åŠ¡
tasks:edit                  -- ç¼–è¾‘ä»»åŠ¡
tasks:complete              -- å®Œæˆä»»åŠ¡

franchisees:view            -- æŸ¥çœ‹åŠ ç›Ÿå•†
franchisees:manage          -- ç®¡ç†åŠ ç›Ÿå•†

templates:view              -- æŸ¥çœ‹æ–¹æ¡ˆæ¨¡æ¿
templates:create            -- åˆ›å»ºæ–¹æ¡ˆæ¨¡æ¿
templates:edit              -- ç¼–è¾‘æ–¹æ¡ˆæ¨¡æ¿

settings:view               -- æŸ¥çœ‹ç³»ç»Ÿè®¾ç½®
settings:edit               -- ç¼–è¾‘ç³»ç»Ÿè®¾ç½®
settings:users              -- ç”¨æˆ·ç®¡ç†
settings:roles              -- è§’è‰²æƒé™ç®¡ç†
```

### 4.2 æ•°æ®æƒé™æ§åˆ¶

#### 4.2.1 SQLæŸ¥è¯¢ç¤ºä¾‹

```javascript
// æ ¹æ®ç”¨æˆ·è§’è‰²çš„æ•°æ®æƒé™èŒƒå›´ï¼ŒåŠ¨æ€æ·»åŠ WHEREæ¡ä»¶

// è¶…çº§ç®¡ç†å‘˜ï¼šæŸ¥çœ‹æ‰€æœ‰
SELECT * FROM customers WHERE is_deleted = 0;

// åŠ ç›Ÿå•†ç®¡ç†å‘˜ï¼šæŸ¥çœ‹æœ¬æœºæ„ï¼ˆåŒ…æ‹¬å­é—¨åº—ï¼‰
SELECT * FROM customers
WHERE org_id IN (
    SELECT id FROM organizations
    WHERE id = :userOrgId OR parent_id = :userOrgId
) AND is_deleted = 0;

// é—¨åº—äººå‘˜ï¼šä»…æŸ¥çœ‹æœ¬é—¨åº—
SELECT * FROM customers
WHERE store_id = :userStoreId AND is_deleted = 0;

// ç¾å®¹é¡¾é—®ï¼šä»…æŸ¥çœ‹åˆ†é…ç»™è‡ªå·±çš„å®¢æˆ·
SELECT * FROM customers
WHERE counselor_id = :userId AND is_deleted = 0;
```

---

## äº”ã€å®‰å…¨è®¾è®¡

### 5.1 è®¤è¯æœºåˆ¶

#### JWT Tokenæ–¹æ¡ˆ

```javascript
// Tokenç»“æ„
{
    "userId": 123,
    "username": "admin",
    "orgId": 1,
    "roles": ["admin"],
    "exp": 1701504000,  // è¿‡æœŸæ—¶é—´ï¼ˆ7å¤©ï¼‰
    "iat": 1701417600   // ç­¾å‘æ—¶é—´
}

// Tokenä½¿ç”¨
è¯·æ±‚å¤´: Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### 5.2 å¯†ç å®‰å…¨

```javascript
// å¯†ç åŠ å¯†ï¼ˆbcryptï¼‰
const bcrypt = require('bcrypt');
const saltRounds = 10;

// æ³¨å†Œæ—¶åŠ å¯†
const passwordHash = await bcrypt.hash(plainPassword, saltRounds);

// ç™»å½•æ—¶éªŒè¯
const isValid = await bcrypt.compare(plainPassword, passwordHash);
```

### 5.3 æ•æ„Ÿæ•°æ®åŠ å¯†

```javascript
// æ‰‹æœºå·ã€èº«ä»½è¯å·ä½¿ç”¨AESåŠ å¯†å­˜å‚¨
const crypto = require('crypto');
const algorithm = 'aes-256-cbc';
const key = process.env.ENCRYPT_KEY; // 32å­—èŠ‚å¯†é’¥

function encrypt(text) {
    const iv = crypto.randomBytes(16);
    const cipher = crypto.createCipheriv(algorithm, key, iv);
    let encrypted = cipher.update(text, 'utf8', 'hex');
    encrypted += cipher.final('hex');
    return iv.toString('hex') + ':' + encrypted;
}

function decrypt(text) {
    const parts = text.split(':');
    const iv = Buffer.from(parts[0], 'hex');
    const encrypted = parts[1];
    const decipher = crypto.createDecipheriv(algorithm, key, iv);
    let decrypted = decipher.update(encrypted, 'hex', 'utf8');
    decrypted += decipher.final('utf8');
    return decrypted;
}
```

### 5.4 SQLæ³¨å…¥é˜²æŠ¤

```javascript
// ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼ˆä»¥MySQL2ä¸ºä¾‹ï¼‰
const [rows] = await connection.execute(
    'SELECT * FROM customers WHERE phone = ? AND org_id = ?',
    [phone, orgId]
);

// âŒ é”™è¯¯ç¤ºä¾‹ï¼ˆæ‹¼æ¥SQLï¼‰
const sql = `SELECT * FROM customers WHERE phone = '${phone}'`; // å±é™©!
```

### 5.5 XSSé˜²æŠ¤

```javascript
// è¾“å‡ºè½¬ä¹‰
const escapeHtml = (str) => {
    return str.replace(/[&<>"']/g, (match) => {
        const escape = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#39;'
        };
        return escape[match];
    });
};

// å‰ç«¯æ˜¾ç¤ºæ—¶è½¬ä¹‰
document.getElementById('name').textContent = customerName; // å®‰å…¨
// document.getElementById('name').innerHTML = customerName; // å±é™©!
```

---

## å…­ã€æ€§èƒ½ä¼˜åŒ–

### 6.1 æ•°æ®åº“ä¼˜åŒ–

#### 6.1.1 ç´¢å¼•ä¼˜åŒ–

```sql
-- å¤åˆç´¢å¼•ï¼ˆæœ€å·¦å‰ç¼€åŸåˆ™ï¼‰
CREATE INDEX idx_customer_query ON customers(org_id, status, created_at);

-- è¦†ç›–ç´¢å¼•
CREATE INDEX idx_customer_list ON customers(id, name, phone, member_level, status);

-- æŸ¥çœ‹æ‰§è¡Œè®¡åˆ’
EXPLAIN SELECT * FROM customers WHERE org_id = 1 AND status = 'active';
```

#### 6.1.2 åˆ†é¡µä¼˜åŒ–

```sql
-- âŒ æ·±åˆ†é¡µæ€§èƒ½å·®
SELECT * FROM customers LIMIT 10000, 20;

-- âœ… ä½¿ç”¨æ¸¸æ ‡åˆ†é¡µ
SELECT * FROM customers WHERE id > :lastId ORDER BY id LIMIT 20;
```

#### 6.1.3 æŸ¥è¯¢ä¼˜åŒ–

```sql
-- âŒ é¿å…SELECT *
SELECT * FROM customers;

-- âœ… åªæŸ¥è¯¢éœ€è¦çš„å­—æ®µ
SELECT id, name, phone, member_level FROM customers;

-- âœ… ä½¿ç”¨è¿æ¥æŸ¥è¯¢ä»£æ›¿å­æŸ¥è¯¢
SELECT c.*, o.total_orders
FROM customers c
LEFT JOIN (
    SELECT customer_id, COUNT(*) as total_orders
    FROM orders GROUP BY customer_id
) o ON c.id = o.customer_id;
```

### 6.2 ç¼“å­˜ç­–ç•¥

```javascript
// Redisç¼“å­˜çƒ­ç‚¹æ•°æ®
const redis = require('redis');
const client = redis.createClient();

// ç¼“å­˜å®¢æˆ·è¯¦æƒ…ï¼ˆ5åˆ†é’Ÿï¼‰
async function getCustomer(customerId) {
    const cacheKey = `customer:${customerId}`;

    // å…ˆæŸ¥ç¼“å­˜
    let customer = await client.get(cacheKey);
    if (customer) {
        return JSON.parse(customer);
    }

    // ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥æ•°æ®åº“
    customer = await db.query('SELECT * FROM customers WHERE id = ?', [customerId]);

    // å†™å…¥ç¼“å­˜
    await client.setex(cacheKey, 300, JSON.stringify(customer));

    return customer;
}
```

### 6.3 å‰ç«¯æ€§èƒ½ä¼˜åŒ–

```javascript
// 1. é˜²æŠ–å‡½æ•°ï¼ˆæœç´¢æ¡†ï¼‰
function debounce(func, delay) {
    let timer;
    return function(...args) {
        clearTimeout(timer);
        timer = setTimeout(() => func.apply(this, args), delay);
    };
}

// 2. èŠ‚æµå‡½æ•°ï¼ˆæ»šåŠ¨åŠ è½½ï¼‰
function throttle(func, delay) {
    let lastTime = 0;
    return function(...args) {
        const now = Date.now();
        if (now - lastTime >= delay) {
            func.apply(this, args);
            lastTime = now;
        }
    };
}

// 3. æ‡’åŠ è½½å›¾ç‰‡
<img src="placeholder.jpg" data-src="real-image.jpg" loading="lazy">
```

---

## ä¸ƒã€éƒ¨ç½²æ¶æ„

### 7.1 æœåŠ¡å™¨é…ç½®å»ºè®®

| ç»„ä»¶ | è§„æ ¼ | è¯´æ˜ |
|-----|------|------|
| **åº”ç”¨æœåŠ¡å™¨** | é˜¿é‡Œäº‘ECS 2æ ¸4G Ã— 2 | è´Ÿè½½å‡è¡¡ |
| **æ•°æ®åº“** | é˜¿é‡Œäº‘RDS MySQL 8.0 (4æ ¸8G) | ä¸»ä»æ¶æ„ |
| **ç¼“å­˜** | é˜¿é‡Œäº‘Redis 6.0 (1G) | ä¼šè¯ã€çƒ­ç‚¹æ•°æ® |
| **å­˜å‚¨** | é˜¿é‡Œäº‘OSS æ ‡å‡†å‹ | å›¾ç‰‡ã€æ–‡ä»¶å­˜å‚¨ |
| **è´Ÿè½½å‡è¡¡** | é˜¿é‡Œäº‘SLB | HTTPS, å¥åº·æ£€æŸ¥ |

### 7.2 éƒ¨ç½²æµç¨‹

```bash
# 1. å…‹éš†ä»£ç 
git clone https://github.com/your-repo/beauty-crm.git
cd beauty-crm

# 2. å®‰è£…ä¾èµ–
npm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
vim .env

# 4. æ•°æ®åº“åˆå§‹åŒ–
mysql -h your-rds-host -u username -p < database/init.sql

# 5. å¯åŠ¨åº”ç”¨ï¼ˆPM2ï¼‰
pm2 start ecosystem.config.js
pm2 save
pm2 startup
```

### 7.3 Nginxé…ç½®

```nginx
upstream beauty_crm {
    server 127.0.0.1:3000;
    server 127.0.0.1:3001;
}

server {
    listen 80;
    server_name crm.example.com;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name crm.example.com;

    ssl_certificate /path/to/cert.pem;
    ssl_certificate_key /path/to/key.pem;

    # é™æ€æ–‡ä»¶
    location / {
        root /var/www/beauty-crm;
        try_files $uri $uri/ /index.html;
    }

    # APIä»£ç†
    location /api/ {
        proxy_pass http://beauty_crm;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    # æ–‡ä»¶ä¸Šä¼ å¤§å°é™åˆ¶
    client_max_body_size 10M;
}
```

---

## å…«ã€é™„å½•

### 8.1 æ•°æ®å­—å…¸

è¯¦è§æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡ï¼ˆç¬¬äºŒç« ï¼‰

### 8.2 é”™è¯¯ç å®šä¹‰

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 10001 | ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ |
| 10002 | Tokenå·²è¿‡æœŸ |
| 10003 | æ— æƒé™è®¿é—® |
| 20001 | å®¢æˆ·ä¸å­˜åœ¨ |
| 20002 | æ‰‹æœºå·å·²å­˜åœ¨ |
| 30001 | è®¢å•ä¸å­˜åœ¨ |
| 30002 | è®¢å•çŠ¶æ€ä¸å…è®¸ä¿®æ”¹ |
| 40001 | å‚æ•°éªŒè¯å¤±è´¥ |
| 50001 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

### 8.3 å¼€å‘è§„èŒƒ

- **ä»£ç è§„èŒƒ**: ESLint + Prettier
- **Gitæäº¤è§„èŒƒ**: Conventional Commits
- **åˆ†æ”¯ç­–ç•¥**: Git Flow
- **ä»£ç å®¡æŸ¥**: Pull Request + Code Review

---

**æ–‡æ¡£ç»“æŸ**

*æœ¬æ–‡æ¡£å°†æ ¹æ®é¡¹ç›®è¿›å±•æŒç»­æ›´æ–°*
